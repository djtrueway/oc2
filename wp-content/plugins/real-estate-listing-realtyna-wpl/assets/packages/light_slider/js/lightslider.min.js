(function(a,c){
/*! lightslider - v1.1.5 - 2015-10-31
     * https://github.com/sachinchoolur/lightslider
     * Copyright (c) 2015 Sachin N; Licensed MIT */
;"use strict";var b={item:3,autoWidth:false,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:true,cssEasing:"ease",easing:"linear",speed:400,auto:false,pauseOnHover:false,loop:false,slideEndAnimation:true,pause:2000,keyPress:false,controls:true,prevHtml:"",nextHtml:"",rtl:false,adaptiveHeight:false,vertical:false,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:true,gallery:false,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:true,enableDrag:true,freeMove:true,swipeThreshold:40,responsive:[],onBeforeStart:function(d){},onSliderLoad:function(d){},onBeforeSlide:function(d,e){},onAfterSlide:function(d,e){},onBeforeNextSlide:function(d,e){},onBeforePrevSlide:function(d,e){}};a.fn.lightSlider=function(d){if(this.length===0){return this}if(this.length>1){this.each(function(){a(this).lightSlider(d)});return this}var e={},x=a.extend(true,{},b,d),n={},B=this;e.$el=this;if(x.mode==="fade"){x.vertical=false}var t=B.children(),s=a(window).width(),A=null,p=null,g=0,r=0,q=false,v=0,u="",z=0,m=(x.vertical===true)?"height":"width",f=(x.vertical===true)?"margin-bottom":"margin-right",k=0,l=0,j=0,i=0,y=null,o=("ontouchstart" in document.documentElement);var h={};h.chbreakpoint=function(){s=a(window).width();if(x.responsive.length){var E;if(x.autoWidth===false){E=x.item}if(s<x.responsive[0].breakpoint){for(var D=0;D<x.responsive.length;D++){if(s<x.responsive[D].breakpoint){A=x.responsive[D].breakpoint;p=x.responsive[D]}}}if(typeof p!=="undefined"&&p!==null){for(var C in p.settings){if(p.settings.hasOwnProperty(C)){if(typeof n[C]==="undefined"||n[C]===null){n[C]=x[C]}x[C]=p.settings[C]}}}if(!a.isEmptyObject(n)&&s>x.responsive[0].breakpoint){for(var w in n){if(n.hasOwnProperty(w)){x[w]=n[w]}}}if(x.autoWidth===false){if(k>0&&j>0){if(E!==x.item){z=Math.round(k/((j+x.slideMargin)*x.slideMove))}}}}};h.calSW=function(){if(x.autoWidth===false){j=(v-((x.item*(x.slideMargin))-x.slideMargin))/x.item}};h.calWidth=function(D){var C=D===true?u.find(".lslide").length:t.length;if(x.autoWidth===false){r=C*(j+x.slideMargin)}else{r=0;for(var w=0;w<C;w++){r+=(parseInt(t.eq(w).width())+x.slideMargin)}}return r};e={doCss:function(){var w=function(){var E=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var C=document.documentElement;for(var D=0;D<E.length;D++){if(E[D] in C.style){return true}}};if(x.useCSS&&w()){return true}return false},keyPress:function(){if(x.keyPress){a(document).on("keyup.lightslider",function(w){if(!a(":focus").is("input, textarea")){if(w.preventDefault){w.preventDefault()}else{w.returnValue=false}if(w.keyCode===37){B.goToPrevSlide()}else{if(w.keyCode===39){B.goToNextSlide()}}}})}},controls:function(){if(x.controls){B.after('<div class="lSAction"><a class="lSPrev">'+x.prevHtml+'</a><a class="lSNext">'+x.nextHtml+"</a></div>");if(!x.autoWidth){if(g<=x.item){u.find(".lSAction").hide()}}else{if(h.calWidth(false)<v){u.find(".lSAction").hide()}}u.find(".lSAction a").on("click",function(w){if(w.preventDefault){w.preventDefault()}else{w.returnValue=false}if(a(this).attr("class")==="lSPrev"){B.goToPrevSlide()}else{B.goToNextSlide()}return false})}},initialStyle:function(){var w=this;if(x.mode==="fade"){x.autoWidth=false;x.slideEndAnimation=false}if(x.auto){x.slideEndAnimation=false}if(x.autoWidth){x.slideMove=1;x.item=1}if(x.loop){x.slideMove=1;x.freeMove=false}x.onBeforeStart.call(this,B);h.chbreakpoint();B.addClass("lightSlider").wrap('<div class="lSSlideOuter '+x.addClass+'"><div class="lSSlideWrapper"></div></div>');u=B.parent(".lSSlideWrapper");if(x.rtl===true){u.parent().addClass("lSrtl")}if(x.vertical){u.parent().addClass("vertical");v=x.verticalHeight;u.css("height",v+"px")}else{v=B.outerWidth()}t.addClass("lslide");if(x.loop===true&&x.mode==="slide"){h.calSW();h.clone=function(){if(h.calWidth(true)>v){var E=0,H=0;for(var D=0;D<t.length;D++){E+=(parseInt(B.find(".lslide").eq(D).width())+x.slideMargin);H++;if(E>=(v+x.slideMargin)){break}}var I=x.autoWidth===true?H:x.item;if(I<B.find(".clone.left").length){for(var G=0;G<B.find(".clone.left").length-I;G++){t.eq(G).remove()}}if(I<B.find(".clone.right").length){for(var F=t.length-1;F>(t.length-1-B.find(".clone.right").length);F--){z--;t.eq(F).remove()}}for(var J=B.find(".clone.right").length;J<I;J++){B.find(".lslide").eq(J).clone().removeClass("lslide").addClass("clone right").appendTo(B);z++}for(var C=B.find(".lslide").length-B.find(".clone.left").length;C>(B.find(".lslide").length-I);C--){B.find(".lslide").eq(C-1).clone().removeClass("lslide").addClass("clone left").prependTo(B)}t=B.children()}else{if(t.hasClass("clone")){B.find(".clone").remove();w.move(B,0)}}};h.clone()}h.sSW=function(){g=t.length;if(x.rtl===true&&x.vertical===false){f="margin-left"}if(x.autoWidth===false){t.css(m,j+"px")}t.css(f,x.slideMargin+"px");r=h.calWidth(false);B.css(m,r+"px");if(x.loop===true&&x.mode==="slide"){if(q===false){z=B.find(".clone.left").length}}};h.calL=function(){t=B.children();g=t.length};if(this.doCss()){u.addClass("usingCss")}h.calL();if(x.mode==="slide"){h.calSW();h.sSW();if(x.loop===true){k=w.slideValue();this.move(B,k)}if(x.vertical===false){this.setHeight(B,false)}}else{this.setHeight(B,true);B.addClass("lSFade");if(!this.doCss()){t.fadeOut(0);t.eq(z).fadeIn(0)}}if(x.loop===true&&x.mode==="slide"){t.eq(z).addClass("active")}else{t.first().addClass("active")}},pager:function(){var C=this;h.createPager=function(){i=(v-((x.thumbItem*(x.thumbMargin))-x.thumbMargin))/x.thumbItem;var L=u.find(".lslide");var F=u.find(".lslide").length;var J=0,I="",M=0;for(J=0;J<F;J++){if(x.mode==="slide"){if(!x.autoWidth){M=J*((j+x.slideMargin)*x.slideMove)}else{M+=((parseInt(L.eq(J).width())+x.slideMargin)*x.slideMove)}}var E=L.eq(J*x.slideMove).attr("data-thumb");if(x.gallery===true){I+='<li style="width:100%;'+m+":"+i+"px;"+f+":"+x.thumbMargin+'px"><a href="#"><img src="'+E+'" /></a></li>'}else{I+='<li><a href="#">'+(J+1)+"</a></li>"}if(x.mode==="slide"){if((M)>=r-v-x.slideMargin){J=J+1;var H=2;if(x.autoWidth){I+='<li><a href="#">'+(J+1)+"</a></li>";H=1}if(J<H){I=null;u.parent().addClass("noPager")}else{u.parent().removeClass("noPager")}break}}}var K=u.parent();K.find(".lSPager").html(I);if(x.gallery===true){if(x.vertical===true){K.find(".lSPager").css("width",x.vThumbWidth+"px")}l=(J*(x.thumbMargin+i))+0.5;K.find(".lSPager").css({property:l+"px","transition-duration":x.speed+"ms"});if(x.vertical===true){u.parent().css("padding-right",(x.vThumbWidth+x.galleryMargin)+"px")}K.find(".lSPager").css(m,l+"px")}var G=K.find(".lSPager").find("li");G.first().addClass("active");G.on("click",function(){if(x.loop===true&&x.mode==="slide"){z=z+(G.index(this)-K.find(".lSPager").find("li.active").index())}else{z=G.index(this)}B.mode(false);if(x.gallery===true){C.slideThumb()}return false})};if(x.pager){var w="lSpg";if(x.gallery){w="lSGallery"}u.after('<ul class="lSPager '+w+'"></ul>');var D=(x.vertical)?"margin-left":"margin-top";u.parent().find(".lSPager").css(D,x.galleryMargin+"px");h.createPager()}setTimeout(function(){h.init()},0)},setHeight:function(C,F){var E=null,D=this;if(x.loop){E=C.children(".lslide ").first()}else{E=C.children().first()}var w=function(){var H=E.outerHeight(),I=0,G=H;if(F){H=0;I=((G)*100)/v}C.css({height:H+"px","padding-bottom":I+"%"})};w();if(E.find("img").length){if(E.find("img")[0].complete){w();if(!y){D.auto()}}else{E.find("img").load(function(){setTimeout(function(){w();if(!y){D.auto()}},100)})}}else{if(!y){D.auto()}}},active:function(D,E){if(this.doCss()&&x.mode==="fade"){u.addClass("on")}var F=0;if(z*x.slideMove<g){D.removeClass("active");if(!this.doCss()&&x.mode==="fade"&&E===false){D.fadeOut(x.speed)}if(E===true){F=z}else{F=z*x.slideMove}var C,w;if(E===true){C=D.length;w=C-1;if(F+1>=C){F=w}}if(x.loop===true&&x.mode==="slide"){if(E===true){F=z-B.find(".clone.left").length}else{F=z*x.slideMove}if(E===true){C=D.length;w=C-1;if(F+1===C){F=w}else{if(F+1>C){F=0}}}}if(!this.doCss()&&x.mode==="fade"&&E===false){D.eq(F).fadeIn(x.speed)}D.eq(F).addClass("active")}else{D.removeClass("active");D.eq(D.length-1).addClass("active");if(!this.doCss()&&x.mode==="fade"&&E===false){D.fadeOut(x.speed);D.eq(F).fadeIn(x.speed)}}},move:function(C,w){if(x.rtl===true){w=-w}if(this.doCss()){if(x.vertical===true){C.css({transform:"translate3d(0px, "+(-w)+"px, 0px)","-webkit-transform":"translate3d(0px, "+(-w)+"px, 0px)"})}else{C.css({transform:"translate3d("+(-w)+"px, 0px, 0px)","-webkit-transform":"translate3d("+(-w)+"px, 0px, 0px)"})}}else{if(x.vertical===true){C.css("position","relative").animate({top:-w+"px"},x.speed,x.easing)}else{C.css("position","relative").animate({left:-w+"px"},x.speed,x.easing)}}var D=u.parent().find(".lSPager").find("li");this.active(D,true)},fade:function(){this.active(t,false);var w=u.parent().find(".lSPager").find("li");this.active(w,true)},slide:function(){var w=this;h.calSlide=function(){if(r>v){k=w.slideValue();w.active(t,false);if((k)>r-v-x.slideMargin){k=r-v-x.slideMargin}else{if(k<0){k=0}}w.move(B,k);if(x.loop===true&&x.mode==="slide"){if(z>=(g-(B.find(".clone.left").length/x.slideMove))){w.resetSlide(B.find(".clone.left").length)}if(z===0){w.resetSlide(u.find(".lslide").length)}}}};h.calSlide()},resetSlide:function(w){var C=this;u.find(".lSAction a").addClass("disabled");setTimeout(function(){z=w;u.css("transition-duration","0ms");k=C.slideValue();C.active(t,false);e.move(B,k);setTimeout(function(){u.css("transition-duration",x.speed+"ms");u.find(".lSAction a").removeClass("disabled")},50)},x.speed+100)},slideValue:function(){var C=0;if(x.autoWidth===false){C=z*((j+x.slideMargin)*x.slideMove)}else{C=0;for(var w=0;w<z;w++){C+=(parseInt(t.eq(w).width())+x.slideMargin)}}return C},slideThumb:function(){var C;switch(x.currentPagerPosition){case"left":C=0;break;case"middle":C=(v/2)-(i/2);break;case"right":C=v-i}var E=z-B.find(".clone.left").length;var D=u.parent().find(".lSPager");if(x.mode==="slide"&&x.loop===true){if(E>=D.children().length){E=0}else{if(E<0){E=D.children().length}}}var w=E*((i+x.thumbMargin))-(C);if((w+v)>l){w=l-v-x.thumbMargin}if(w<0){w=0}this.move(D,w)},auto:function(){if(x.auto){clearInterval(y);y=setInterval(function(){B.goToNextSlide()},x.pause)}},pauseOnHover:function(){var w=this;if(x.auto&&x.pauseOnHover){u.on("mouseenter",function(){a(this).addClass("ls-hover");B.pause();x.auto=true});u.on("mouseleave",function(){a(this).removeClass("ls-hover");if(!u.find(".lightSlider").hasClass("lsGrabbing")){w.auto()}})}},touchMove:function(C,E){u.css("transition-duration","0ms");if(x.mode==="slide"){var F=C-E;var D=k-F;if((D)>=r-v-x.slideMargin){if(x.freeMove===false){D=r-v-x.slideMargin}else{var w=r-v-x.slideMargin;D=w+((D-w)/5)}}else{if(D<0){if(x.freeMove===false){D=0}else{D=D/5}}}this.move(B,D)}},touchEnd:function(E){u.css("transition-duration",x.speed+"ms");if(x.mode==="slide"){var w=false;var C=true;k=k-E;if((k)>r-v-x.slideMargin){k=r-v-x.slideMargin;if(x.autoWidth===false){w=true}}else{if(k<0){k=0}}var D=function(J){var I=0;if(!w){if(J){I=1}}if(!x.autoWidth){var G=k/((j+x.slideMargin)*x.slideMove);z=parseInt(G)+I;if(k>=(r-v-x.slideMargin)){if(G%1!==0){z++}}}else{var F=0;for(var H=0;H<t.length;H++){F+=(parseInt(t.eq(H).width())+x.slideMargin);z=H+I;if(F>=k){break}}}};if(E>=x.swipeThreshold){D(false);C=false}else{if(E<=-x.swipeThreshold){D(true);C=false}}B.mode(C);this.slideThumb()}else{if(E>=x.swipeThreshold){B.goToPrevSlide()}else{if(E<=-x.swipeThreshold){B.goToNextSlide()}}}},enableDrag:function(){var E=this;if(!o){var D=0,C=0,w=false;u.find(".lightSlider").addClass("lsGrab");u.on("mousedown",function(F){if(r<v){if(r!==0){return false}}if(a(F.target).attr("class")!==("lSPrev")&&a(F.target).attr("class")!==("lSNext")){D=(x.vertical===true)?F.pageY:F.pageX;w=true;if(F.preventDefault){F.preventDefault()}else{F.returnValue=false}u.scrollLeft+=1;u.scrollLeft-=1;u.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing");clearInterval(y)}});a(window).on("mousemove",function(F){if(w){C=(x.vertical===true)?F.pageY:F.pageX;E.touchMove(C,D)}});a(window).on("mouseup",function(F){if(w){u.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");w=false;C=(x.vertical===true)?F.pageY:F.pageX;var G=C-D;if(Math.abs(G)>=x.swipeThreshold){a(window).on("click.ls",function(H){if(H.preventDefault){H.preventDefault()}else{H.returnValue=false}H.stopImmediatePropagation();H.stopPropagation();a(window).off("click.ls")})}E.touchEnd(G)}})}},enableTouch:function(){var D=this;if(o){var C={},w={};u.on("touchstart",function(E){w=E.originalEvent.targetTouches[0];C.pageX=E.originalEvent.targetTouches[0].pageX;C.pageY=E.originalEvent.targetTouches[0].pageY;clearInterval(y)});u.on("touchmove",function(E){if(r<v){if(r!==0){return false}}var H=E.originalEvent;w=H.targetTouches[0];var F=Math.abs(w.pageX-C.pageX);var G=Math.abs(w.pageY-C.pageY);if(x.vertical===true){if((G*3)>F){E.preventDefault()}D.touchMove(w.pageY,C.pageY)}else{if((F*3)>G){E.preventDefault()}D.touchMove(w.pageX,C.pageX)}});u.on("touchend",function(){if(r<v){if(r!==0){return false}}var E;if(x.vertical===true){E=w.pageY-C.pageY}else{E=w.pageX-C.pageX}D.touchEnd(E)})}},build:function(){var w=this;w.initialStyle();if(this.doCss()){if(x.enableTouch===true){w.enableTouch()}if(x.enableDrag===true){w.enableDrag()}}a(window).on("focus",function(){w.auto()});a(window).on("blur",function(){clearInterval(y)});w.pager();w.pauseOnHover();w.controls();w.keyPress()}};e.build();h.init=function(){h.chbreakpoint();if(x.vertical===true){if(x.item>1){v=x.verticalHeight}else{v=t.outerHeight()}u.css("height",v+"px")}else{v=u.outerWidth()}if(x.loop===true&&x.mode==="slide"){h.clone()}h.calL();if(x.mode==="slide"){B.removeClass("lSSlide")}if(x.mode==="slide"){h.calSW();h.sSW()}setTimeout(function(){if(x.mode==="slide"){B.addClass("lSSlide")}},1000);if(x.pager){h.createPager()}if(x.adaptiveHeight===true&&x.vertical===false){B.css("height",t.eq(z).outerHeight(true))}if(x.adaptiveHeight===false){if(x.mode==="slide"){if(x.vertical===false){e.setHeight(B,false)}else{e.auto()}}else{e.setHeight(B,true)}}if(x.gallery===true){e.slideThumb()}if(x.mode==="slide"){e.slide()}if(x.autoWidth===false){if(t.length<=x.item){u.find(".lSAction").hide()}else{u.find(".lSAction").show()}}else{if((h.calWidth(false)<v)&&(r!==0)){u.find(".lSAction").hide()}else{u.find(".lSAction").show()}}};B.goToPrevSlide=function(){if(z>0){x.onBeforePrevSlide.call(this,B,z);z--;B.mode(false);if(x.gallery===true){e.slideThumb()}}else{if(x.loop===true){x.onBeforePrevSlide.call(this,B,z);if(x.mode==="fade"){var w=(g-1);z=parseInt(w/x.slideMove)}B.mode(false);if(x.gallery===true){e.slideThumb()}}else{if(x.slideEndAnimation===true){B.addClass("leftEnd");setTimeout(function(){B.removeClass("leftEnd")},400)}}}};B.goToNextSlide=function(){var w=true;if(x.mode==="slide"){var C=e.slideValue();w=C<r-v-x.slideMargin}if(((z*x.slideMove)<g-x.slideMove)&&w){x.onBeforeNextSlide.call(this,B,z);z++;B.mode(false);if(x.gallery===true){e.slideThumb()}}else{if(x.loop===true){x.onBeforeNextSlide.call(this,B,z);z=0;B.mode(false);if(x.gallery===true){e.slideThumb()}}else{if(x.slideEndAnimation===true){B.addClass("rightEnd");setTimeout(function(){B.removeClass("rightEnd")},400)}}}};B.mode=function(w){if(x.adaptiveHeight===true&&x.vertical===false){B.css("height",t.eq(z).outerHeight(true))}if(q===false){if(x.mode==="slide"){if(e.doCss()){B.addClass("lSSlide");if(x.speed!==""){u.css("transition-duration",x.speed+"ms")}if(x.cssEasing!==""){u.css("transition-timing-function",x.cssEasing)}}}else{if(e.doCss()){if(x.speed!==""){B.css("transition-duration",x.speed+"ms")}if(x.cssEasing!==""){B.css("transition-timing-function",x.cssEasing)}}}}if(!w){x.onBeforeSlide.call(this,B,z)}if(x.mode==="slide"){e.slide()}else{e.fade()}if(!u.hasClass("ls-hover")){e.auto()}setTimeout(function(){if(!w){x.onAfterSlide.call(this,B,z)}},x.speed);q=true};B.play=function(){B.goToNextSlide();x.auto=true;e.auto()};B.pause=function(){x.auto=false;clearInterval(y)};B.refresh=function(){h.init()};B.getCurrentSlideCount=function(){var D=z;if(x.loop){var C=u.find(".lslide").length,w=B.find(".clone.left").length;if(z<=w-1){D=C+(z-w)}else{if(z>=(C+w)){D=z-C-w}else{D=z-w}}}return D+1};B.getTotalSlideCount=function(){return u.find(".lslide").length};B.goToSlide=function(w){if(x.loop){z=(w+B.find(".clone.left").length-1)}else{z=w}B.mode(false);if(x.gallery===true){e.slideThumb()}};B.destroy=function(){if(B.lightSlider){B.goToPrevSlide=function(){};B.goToNextSlide=function(){};B.mode=function(){};B.play=function(){};B.pause=function(){};B.refresh=function(){};B.getCurrentSlideCount=function(){};B.getTotalSlideCount=function(){};B.goToSlide=function(){};B.lightSlider=null;h={init:function(){}};B.parent().parent().find(".lSAction, .lSPager").remove();B.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap();B.children().removeAttr("style");t.removeClass("lslide active");B.find(".clone").remove();t=null;y=null;q=false;z=0}};setTimeout(function(){x.onSliderLoad.call(this,B)},10);a(window).on("resize orientationchange",function(w){setTimeout(function(){if(w.preventDefault){w.preventDefault()}else{w.returnValue=false}h.init()},200)});return this};a.fn.lightGallery=function(f){var n={mode:"slide",useCSS:true,cssEasing:"ease",easing:"linear",speed:600,addClass:"",closable:true,loop:false,auto:false,pause:4000,escKey:true,controls:true,hideControlOnEnd:false,preload:1,showAfterLoad:true,selector:null,index:false,lang:{allPhotos:"All photos"},counter:false,exThumbImage:false,thumbnail:true,showThumbByDefault:false,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbMargin:5,mobileSrc:false,mobileSrcMaxWidth:640,swipeThreshold:50,enableTouch:true,enableDrag:true,vimeoColor:"CCCCCC",youtubePlayerParams:false,videoAutoplay:true,videoMaxWidth:"855px",dynamic:false,dynamicEl:[],onOpen:function(D){},onSlideBefore:function(D){},onSlideAfter:function(D){},onSlideNext:function(D){},onSlidePrev:function(D){},onBeforeClose:function(D){},onCloseAfter:function(D){}},d=a(this),g=this,p=null,i=0,u=false,e=false,o=document.createTouch!==c||("ontouchstart" in window)||("onmsgesturechange" in window)||navigator.msMaxTouchPoints,C,k,y,q,v,z,j,r,m,B,A,s=false,h=false,x=false;var w=a.extend(true,{},n,f);var l={init:function(){d.each(function(){var D=a(this);if(w.dynamic){p=w.dynamicEl;i=0;j=i;t.init(i)}else{if(w.selector!==null){p=a(w.selector)}else{p=D.children()}p.on("click",function(E){if(w.selector!==null){p=a(w.selector)}else{p=D.children()}E.preventDefault();E.stopPropagation();i=p.index(this);j=i;t.init(i)})}})}};var t={init:function(){u=true;this.structure();this.getWidth();this.closeSlide();this.autoStart();this.counter();this.slideTo();this.buildThumbnail();this.keyPress();if(w.index){this.slide(w.index);this.animateThumb(w.index)}else{this.slide(i);this.animateThumb(i)}if(w.enableDrag){this.touch()}if(w.enableTouch){this.enableTouch()}setTimeout(function(){C.addClass("opacity")},50)},structure:function(){a("body").append('<div id="lg-outer" class="'+w.addClass+'"><div id="lg-gallery"><div id="lg-slider"></div><a id="lg-close" class="close"></a></div></div>').addClass("light-gallery");k=a("#lg-outer");C=a("#lg-gallery");if(w.showAfterLoad===true){C.addClass("show-after-load")}y=C.find("#lg-slider");var E="";if(w.dynamic){for(var D=0;D<w.dynamicEl.length;D++){E+='<div class="lg-slide"></div>'}}else{p.each(function(){E+='<div class="lg-slide"></div>'})}y.append(E);q=C.find(".lg-slide")},closeSlide:function(){var D=this;if(w.closable){a("#lg-outer").on("click",function(E){if(a(E.target).is(".lg-slide")){g.destroy(false)}})}a("#lg-close").bind("click touchend",function(){g.destroy(false)})},getWidth:function(){var D=function(){B=a(window).width()};a(window).bind("resize.lightGallery",D())},doCss:function(){var D=function(){var G=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var E=document.documentElement;for(var F=0;F<G.length;F++){if(G[F] in E.style){return true}}};if(w.useCSS&&D()){return true}return false},enableTouch:function(){var F=this;if(o){var E={},D={};a("body").on("touchstart.lightGallery",function(G){D=G.originalEvent.targetTouches[0];E.pageX=G.originalEvent.targetTouches[0].pageX;E.pageY=G.originalEvent.targetTouches[0].pageY});a("body").on("touchmove.lightGallery",function(G){var H=G.originalEvent;D=H.targetTouches[0];G.preventDefault()});a("body").on("touchend.lightGallery",function(H){var I=D.pageX-E.pageX,G=w.swipeThreshold;if(I>=G){F.prevSlide();clearInterval(A)}else{if(I<=-G){F.nextSlide();clearInterval(A)}}})}},touch:function(){var F,D;var E=this;a(".light-gallery").bind("mousedown",function(G){G.stopPropagation();G.preventDefault();F=G.pageX});a(".light-gallery").bind("mouseup",function(G){G.stopPropagation();G.preventDefault();D=G.pageX;if(D-F>20){E.prevSlide()}else{if(F-D>20){E.nextSlide()}}})},isVideo:function(H,E){var F=H.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var D=H.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var G=false;if(w.dynamic){if(w.dynamicEl[E].iframe=="true"){G=true}}else{if(p.eq(E).attr("data-iframe")=="true"){G=true}}if(F||D||G){return true}},loadVideo:function(J,G){var F=J.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var E=J.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var I="";var D="";if(F){if(w.videoAutoplay===true&&e===false){D="?autoplay=1&rel=0&wmode=opaque"}else{D="?wmode=opaque"}if(w.youtubePlayerParams){var H=a.param(w.youtubePlayerParams);D=D+"&"+H}I='<iframe class="object" width="560" height="315" src="//www.youtube.com/embed/'+F[1]+D+'" frameborder="0" allowfullscreen></iframe>'}else{if(E){if(w.videoAutoplay===true&&e===false){D="autoplay=1&amp;"}else{D=""}I='<iframe class="object" id="video'+G+'" width="560" height="315"  src="http://player.vimeo.com/video/'+E[1]+"?"+D+"byline=0&amp;portrait=0&amp;color="+w.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{I='<iframe class="object" frameborder="0" src="'+J+'"  allowfullscreen="true"></iframe>'}}return'<div class="video-cont" style="max-width:'+w.videoMaxWidth+' !important;"><div class="video">'+I+"</div></div>"},addHtml:function(D){var E=null;if(w.dynamic){E=w.dynamicEl[D]["sub-html"]}else{E=p.eq(D).attr("data-sub-html")}if(typeof E!=="undefined"&&E!==null){var F=E.substring(0,1);if(F=="."||F=="#"){E=a(E).html()}else{E=E}q.eq(D).append(E)}},preload:function(E){var F=E;for(var D=0;D<=w.preload;D++){if(D>=p.length-E){break}this.loadContent(F+D,true)}for(var G=0;G<=w.preload;G++){if(F-G<0){break}this.loadContent(F-G,true)}},loadObj:function(E,D){var F=this;q.eq(D).find(".object").on("load error",function(){q.eq(D).addClass("complete")});if(E===false){if(!q.eq(D).hasClass("complete")){q.eq(D).find(".object").on("load error",function(){F.preload(D)})}else{F.preload(D)}}},loadContent:function(F,K){var I=this;var G,E,D=p.length-F;var J;if(w.preload>p.length){w.preload=p.length}if(w.mobileSrc===true&&B<=w.mobileSrcMaxWidth){if(w.dynamic){J=w.dynamicEl[F].mobileSrc}else{J=p.eq(F).attr("data-responsive-src")}}if(!J){if(w.dynamic){J=w.dynamicEl[F].src}else{J=p.eq(F).attr("data-src")}}var H=0;if(K===true){H=w.speed+400}if(typeof J!=="undefined"&&J!==""){if(!I.isVideo(J,F)){setTimeout(function(){if(!q.eq(F).hasClass("loaded")){q.eq(F).prepend('<img class="object" src="'+J+'" />');I.addHtml(F);q.eq(F).addClass("loaded")}I.loadObj(K,F)},H)}else{setTimeout(function(){if(!q.eq(F).hasClass("loaded")){q.eq(F).prepend(I.loadVideo(J,F));I.addHtml(F);q.eq(F).addClass("loaded");if(w.auto&&w.videoAutoplay===true){clearInterval(A)}}I.loadObj(K,F)},H)}}else{setTimeout(function(){if(!q.eq(F).hasClass("loaded")){var L=null;if(w.dynamic){L=w.dynamicEl[F].html}else{L=p.eq(F).attr("data-html")}if(typeof L!=="undefined"&&L!==null){var M=L.substring(0,1);if(M=="."||M=="#"){L=a(L).html()}else{L=L}}if(typeof L!=="undefined"&&L!==null){q.eq(F).append('<div class="video-cont" style="max-width:'+w.videoMaxWidth+' !important;"><div class="video">'+L+"</div></div>")}I.addHtml(F);q.eq(F).addClass("loaded complete");if(w.auto&&w.videoAutoplay===true){clearInterval(A)}}I.loadObj(K,F)},H)}},counter:function(){if(w.counter===true){var D=a("#lg-slider > div").length;C.append("<div id='lg-counter'><span id='lg-counter-current'></span> / <span id='lg-counter-all'>"+D+"</span></div>")}},buildThumbnail:function(){if(w.thumbnail===true&&p.length>1){var J=this,I="";if(!w.showThumbByDefault){I='<span class="close ib"><i class="bUi-iCn-rMv-16" aria-hidden="true"></i></span>'}C.append('<div class="thumb-cont"><div class="thumb-info">'+I+'</div><div class="thumb-inner"></div></div>');r=C.find(".thumb-cont");v.after('<a class="cl-thumb"></a>');v.parent().addClass("has-thumb");C.find(".cl-thumb").bind("click touchend",function(){C.addClass("open");if(J.doCss()&&w.mode==="slide"){q.eq(i).prevAll().removeClass("next-slide").addClass("prev-slide");q.eq(i).nextAll().removeClass("prev-slide").addClass("next-slide")}});C.find(".thumb-cont .close").bind("click touchend",function(){C.removeClass("open")});var H=C.find(".thumb-info");var D=C.find(".thumb-inner");var F="";var K;if(w.dynamic){for(var E=0;E<w.dynamicEl.length;E++){K=w.dynamicEl[E].thumb;F+='<div class="thumb"><img src="'+K+'" /></div>'}}else{p.each(function(){if(w.exThumbImage===false||typeof a(this).attr(w.exThumbImage)=="undefined"||a(this).attr(w.exThumbImage)===null){K=a(this).find("img").attr("src")}else{K=a(this).attr(w.exThumbImage)}F+='<div class="thumb"><img src="'+K+'" /></div>'})}D.append(F);m=D.find(".thumb");m.css({"margin-right":w.thumbMargin+"px",width:w.thumbWidth+"px"});if(w.animateThumb===true){var G=(p.length*(w.thumbWidth+w.thumbMargin));C.find(".thumb-inner").css({width:G+"px",position:"relative","transition-duration":w.speed+"ms"})}m.bind("click touchend",function(){s=true;var L=a(this).index();m.removeClass("active");a(this).addClass("active");J.slide(L);J.animateThumb(L);clearInterval(A)});H.prepend('<span class="ib count">'+w.lang.allPhotos+" ("+m.length+")</span>");if(w.showThumbByDefault){C.addClass("open")}}},animateThumb:function(E){if(w.animateThumb===true){var F=C.find(".thumb-cont").width();var D;switch(w.currentPagerPosition){case"left":D=0;break;case"middle":D=(F/2)-(w.thumbWidth/2);break;case"right":D=F-w.thumbWidth}var H=((w.thumbWidth+w.thumbMargin)*E-1)-D;var G=(p.length*(w.thumbWidth+w.thumbMargin));if(H>(G-F)){H=G-F}if(H<0){H=0}if(this.doCss()){C.find(".thumb-inner").css("transform","translate3d(-"+H+"px, 0px, 0px)")}else{C.find(".thumb-inner").animate({left:-H+"px"},w.speed)}}},slideTo:function(){var D=this;if(w.controls===true&&p.length>1){C.append('<div id="lg-action"><a id="lg-prev"></a><a id="lg-next"></a></div>');v=C.find("#lg-prev");z=C.find("#lg-next");v.bind("click",function(){D.prevSlide();clearInterval(A)});z.bind("click",function(){D.nextSlide();clearInterval(A)})}},autoStart:function(){var D=this;if(w.auto===true){A=setInterval(function(){if(i+1<p.length){i=i}else{i=-1}i++;D.slide(i)},w.pause)}},keyPress:function(){var D=this;a(window).bind("keyup.lightGallery",function(E){E.preventDefault();E.stopPropagation();if(E.keyCode===37){D.prevSlide();clearInterval(A)}if(E.keyCode===38&&w.thumbnail===true&&p.length>1){if(!C.hasClass("open")){if(D.doCss()&&w.mode==="slide"){q.eq(i).prevAll().removeClass("next-slide").addClass("prev-slide");q.eq(i).nextAll().removeClass("prev-slide").addClass("next-slide")}C.addClass("open")}}else{if(E.keyCode===39){D.nextSlide();clearInterval(A)}}if(E.keyCode===40&&w.thumbnail===true&&p.length>1&&!w.showThumbByDefault){if(C.hasClass("open")){C.removeClass("open")}}else{if(w.escKey===true&&E.keyCode===27){if(!w.showThumbByDefault&&C.hasClass("open")){C.removeClass("open")}else{g.destroy(false)}}}})},nextSlide:function(){var D=this;i=q.index(q.eq(j));if(i+1<p.length){i++;D.slide(i)}else{if(w.loop){i=0;D.slide(i)}else{if(w.thumbnail===true&&p.length>1&&!w.showThumbByDefault){C.addClass("open")}else{q.eq(i).find(".object").addClass("right-end");setTimeout(function(){q.find(".object").removeClass("right-end")},400)}}}D.animateThumb(i);w.onSlideNext.call(this,g)},prevSlide:function(){var D=this;i=q.index(q.eq(j));if(i>0){i--;D.slide(i)}else{if(w.loop){i=p.length-1;D.slide(i)}else{if(w.thumbnail===true&&p.length>1&&!w.showThumbByDefault){C.addClass("open")}else{q.eq(i).find(".object").addClass("left-end");setTimeout(function(){q.find(".object").removeClass("left-end")},400)}}}D.animateThumb(i);w.onSlidePrev.call(this,g)},slide:function(F){var G=this;if(e){setTimeout(function(){G.loadContent(F,false)},w.speed+400);if(!y.hasClass("on")){y.addClass("on")}if(this.doCss()&&w.speed!==""){if(!y.hasClass("speed")){y.addClass("speed")}if(x===false){y.css("transition-duration",w.speed+"ms");x=true}}if(this.doCss()&&w.cssEasing!==""){if(!y.hasClass("timing")){y.addClass("timing")}if(h===false){y.css("transition-timing-function",w.cssEasing);h=true}}w.onSlideBefore.call(this,g)}else{G.loadContent(F,false)}if(w.mode==="slide"){var E=navigator.userAgent.match(/iPad/i)!==null;if(this.doCss()&&!y.hasClass("slide")&&!E){y.addClass("slide")}else{if(this.doCss()&&!y.hasClass("use-left")&&E){y.addClass("use-left")}}if(!this.doCss()&&!e){y.css({left:(-F*100)+"%"})}else{if(!this.doCss()&&e){y.animate({left:(-F*100)+"%"},w.speed,w.easing)}}}else{if(w.mode==="fade"){if(this.doCss()&&!y.hasClass("fade-m")){y.addClass("fade-m")}else{if(!this.doCss()&&!y.hasClass("animate")){y.addClass("animate")}}if(!this.doCss()&&!e){q.fadeOut(100);q.eq(F).fadeIn(100)}else{if(!this.doCss()&&e){q.eq(j).fadeOut(w.speed,w.easing);q.eq(F).fadeIn(w.speed,w.easing)}}}}if(F+1>=p.length&&w.auto&&w.loop===false){clearInterval(A)}q.eq(j).removeClass("current");q.eq(F).addClass("current");if(this.doCss()&&w.mode==="slide"){if(s===false){a(".prev-slide").removeClass("prev-slide");a(".next-slide").removeClass("next-slide");q.eq(F-1).addClass("prev-slide");q.eq(F+1).addClass("next-slide")}else{q.eq(F).prevAll().removeClass("next-slide").addClass("prev-slide");q.eq(F).nextAll().removeClass("prev-slide").addClass("next-slide")}}if(w.thumbnail===true&&p.length>1){m.removeClass("active");m.eq(F).addClass("active")}if(w.controls&&w.hideControlOnEnd&&w.loop===false&&p.length>1){var D=p.length;D=parseInt(D)-1;if(F===0){v.addClass("disabled");z.removeClass("disabled")}else{if(F===D){v.removeClass("disabled");z.addClass("disabled")}else{v.add(z).removeClass("disabled")}}}j=F;e===false?w.onOpen.call(this,g):w.onSlideAfter.call(this,g);setTimeout(function(){e=true});s=false;if(w.counter){a("#lg-counter-current").text(F+1)}a(window).bind("resize.lightGallery",function(){setTimeout(function(){G.animateThumb(F)},200)})}};g.isActive=function(){if(u===true){return true}else{return false}};g.destroy=function(E){u=false;E=typeof E!=="undefined"?false:true;w.onBeforeClose.call(this,g);var D=e;e=false;h=false;x=false;s=false;clearInterval(A);if(E===true){p.off("click touch touchstart")}a(".light-gallery").off("mousedown mouseup");a("body").off("touchstart.lightGallery touchmove.lightGallery touchend.lightGallery");a(window).off("resize.lightGallery keyup.lightGallery");if(D===true){C.addClass("fade-m");setTimeout(function(){k.remove();a("body").removeClass("light-gallery")},500)}w.onCloseAfter.call(this,g)};l.init();return this}}(jQuery));